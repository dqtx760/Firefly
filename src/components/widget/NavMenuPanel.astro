---
import { Icon } from "astro-icon/components";
import { type NavBarLink } from "../../types/config";
import { url } from "../../utils/url-utils";

interface Props {
	links: NavBarLink[];
}

const links = Astro.props.links;
---
<div id="nav-menu-panel" class:list={["float-panel float-panel-closed absolute transition-all fixed right-4 px-2 py-2"]}>
    {links.map((link) => {
        const isRSS = link.name === "RSS";
        return (
        <a href={link.external ? link.url : url(link.url)} class="group flex justify-between items-center py-2 pl-3 pr-1 rounded-lg gap-8
            hover:bg-[var(--btn-plain-bg-hover)] active:bg-[var(--btn-plain-bg-active)] transition
        "
           target={link.external ? "_blank" : null}
        >
            <div class="transition text-black/75 dark:text-white/75 font-bold group-hover:text-[var(--primary)] group-active:text-[var(--primary)] flex items-center gap-2">
                {isRSS ? (
                    <img src="https://cdn.beekka.com/blogimg/asset/202107/bg2021072117.png" alt="RSS" class="w-5 h-5 rss-icon" />
                ) : (
                    link.name
                )}
            </div>
            {isRSS ? (
                <Icon name="fa6-solid:arrow-up-right-from-square"
                      class="transition text-[0.75rem] text-black/25 dark:text-white/25 -translate-x-1"
                >
                </Icon>
            ) : (
                !link.external ? <Icon name="material-symbols:chevron-right-rounded"
                      class="transition text-[1.25rem] text-[var(--primary)]"
                >
                </Icon> : <Icon name="fa6-solid:arrow-up-right-from-square"
                      class="transition text-[0.75rem] text-black/25 dark:text-white/25 -translate-x-1"
                >
                </Icon>
            )}
        </a>
        );
    })}
</div>

<style>
.rss-icon {
  transition: transform 0.4s ease-in-out;
}

a:hover .rss-icon {
  transform: rotate(360deg);
}
</style>
